{"version":3,"sources":["components/Person.js","components/Form.js","components/Filter.js","services/contacts.js","App.js","index.js"],"names":["Person","props","name","number","value","id","onClick","Form","onSubmit","addContact","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","baseUrl","contactService","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","update","put","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","newFilter","setNewFilter","message","setMessage","errorMessage","setErrorMessage","hook","initialContacts","useEffect","handleDelete","event","result","window","confirm","target","setTimeout","contactsToShow","filter","person","toUpperCase","startsWith","Notification","className","ErrorNotification","preventDefault","contactObject","map","x","includes","contact","find","n","changedContact","contactid","returnedNote","catch","error","returnedContact","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c869143.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n    return (\n      <div>\n        {props.name} {props.number} <button value={props.id} name={props.name} onClick={props.onClick}>Delete</button>\n      </div>\n    )\n  }\n\nexport default Person","import React from 'react'\n\nconst Form = (props) => {\n    return (\n      <div>\n        <form onSubmit={props.addContact}>\n          <div>\n            name: <input \n            value={props.newName}\n            onChange={props.handleNameChange}/>\n          </div>\n          <div>\n            number: <input\n            value={props.newNumber}\n            onChange={props.handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\nexport default Form","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n      <div>\n        filter shown with <input\n            value={props.value}\n            onChange={props.onChange}\n            />\n      </div>\n    )\n  }\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst contactService = { getAll, create, remove, update }\n\nexport default contactService","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport contactService from './services/contacts'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const hook = () => {\n    contactService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }\n  \n  useEffect(hook, [])\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const contactObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.map(x => x.name.toUpperCase()).includes(contactObject.name.toUpperCase())) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const contact = persons.find(n => n.name.toUpperCase() === contactObject.name.toUpperCase())\n        const changedContact = { ...contact, number: contactObject.number}\n        const contactid = contact.id\n\n        contactService\n        .update(contactid, changedContact)\n        .then( returnedNote => {\n        setPersons(persons.map(person => person.id !== contactid ? person : returnedNote))\n        setMessage(\n          `Successfully Updated the phone number of ${contact.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Information of ${contact.name} has already been deleted from the server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== contactid))\n        })\n      }\n    } else {\n\n      contactService\n      .create(contactObject)\n      .then(returnedContact => {\n        setPersons(persons.concat(returnedContact))\n        setNewName('')\n        setNewNumber('')\n      })\n      setMessage(\n        `Added ${contactObject.name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n  }\n  }\n\n  const handleDelete = (event) => {\n    const result = window.confirm(\"Delete \" + event.target.name + \" ?\")\n    const id = event.target.value\n    if (result) {\n    contactService\n    .remove(id)\n    .then(hook)\n    }\n    setMessage(\n      `Deleted ${event.target.name}`\n    )\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n\n  }\n\n  const contactsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().startsWith(newFilter.toUpperCase()))\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    if (event.target.value === '') {\n      setShowAll(true)\n    } else {\n      setShowAll(false)\n    }\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n\n  const ErrorNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"errorNotification\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorNotification message={errorMessage} />\n      <Filter value={newFilter} onChange={handleFilterChange}/>\n      <h1>add a new</h1>\n      <Form addContact={addContact} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      {contactsToShow.map(person => \n       <Person key={person.id} id={person.id} name={person.name} number={person.number} onClick={handleDelete} />\n       )}\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}